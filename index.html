<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FORYOU CINEMA - أفلام ومسلسلات</title>
    <script>
        // دالة لمنع الإعلانات في وضع الشاشة الكاملة
        function blockStreamtapeAds() {
            const style = document.createElement('style');
            style.innerHTML = `
                .streamtape-modal iframe {
                    position: fixed !important;
                    top: 0 !important;
                    left: 0 !important;
                    width: 100% !important;
                    height: 100% !important;
                    border: none !important;
                    z-index: 9999 !important;
                }
                #streamtapeModal .close-btn {
                    position: fixed !important;
                    top: 15px !important;
                    right: 15px !important;
                    z-index: 10000 !important;
                    color: white !important;
                    background: red !important;
                    width: 30px !important;
                    height: 30px !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    font-size: 20px !important;
                    cursor: pointer !important;
                }
            `;
            document.head.appendChild(style);
        }
        
        // تنفيذ الدالة عند تحميل الصفحة
        window.onload = blockStreamtapeAds;
    </script>
</head>
<body>
    <!-- باقي عناصر الموقع -->
    <div class="streamtape-modal" id="streamtapeModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: black; z-index: 9998;">
        <span class="close-btn" onclick="closeStreamtape()" style="position: absolute; top: 15px; right: 15px; color: white; background: red; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; cursor: pointer;">×</span>
        <iframe id="streamtapeFrame" src="" style="width: 100%; height: 100%; border: none;" allow="autoplay; fullscreen" allowfullscreen></iframe>
    </div>

    <script>
        // دالة التشغيل المعدلة
        function playStreamtape(videoId, title) {
            const modal = document.getElementById('streamtapeModal');
            const frame = document.getElementById('streamtapeFrame');
            
            // إنشاء رابط التشغيل بدون إعلانات
            const noAdsUrl = `https://streamtape.com/e/${videoId}/?autoplay=1&noads=1`;
            
            frame.src = noAdsUrl;
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            document.title = title + ' | FORYOU CINEMA';
            
            // الانتقال لملء الشاشة بعد تأخير بسيط
            setTimeout(() => {
                if (frame.requestFullscreen) {
                    frame.requestFullscreen().catch(e => console.log(e));
                } else if (frame.webkitRequestFullscreen) {
                    frame.webkitRequestFullscreen();
                } else if (frame.msRequestFullscreen) {
                    frame.msRequestFullscreen();
                }
            }, 500);
        }
        
        // دالة الإغلاق
        function closeStreamtape() {
            const modal = document.getElementById('streamtapeModal');
            const frame = document.getElementById('streamtapeFrame');
            
            frame.src = '';
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
            document.title = 'FORYOU CINEMA - أفلام ومسلسلات';
            
            // الخروج من وضع ملء الشاشة
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
            }
        }
        
        // إغلاق عند الضغط على Esc
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeStreamtape();
            }
        });
        
        // إغلاق عند تغيير حجم الشاشة
        window.addEventListener('resize', function() {
            if (window.innerHeight < screen.availHeight) {
                closeStreamtape();
            }
        });
    </script>
</body>
</html>